# 快速开始

<cite>
**本文档中引用的文件**  
- [package.json](file://package.json)
- [README.md](file://README.md)
- [vite.config.ts](file://vite.config.ts)
- [main.tsx](file://src/main.tsx)
- [App.tsx](file://src/App.tsx)
- [AdvancedFormDemo.tsx](file://src/components/advanced-form/AdvancedFormDemo.tsx)
- [redux.ts](file://src/redux/redux.ts)
- [App.css](file://src/App.css)
- [AdvancedFormDemo.css](file://src/components/advanced-form/AdvancedFormDemo.css)
</cite>

## 目录
1. [简介](#简介)
2. [前置条件](#前置条件)
3. [项目运行命令](#项目运行命令)
4. [项目目录结构](#项目目录结构)
5. [最小工作示例](#最小工作示例)
6. [常见问题与解决方案](#常见问题与解决方案)
7. [总结](#总结)

## 简介
本指南旨在帮助新手开发者快速在本地运行 `redux-demo` 项目。该项目基于 React、TypeScript 和 Vite 构建，展示了动态表单联动、Redux 核心实现等高级功能。通过本指南，您将学会如何安装依赖、启动开发服务器、构建生产版本并预览结果。

**Section sources**
- [README.md](file://README.md#L0-L69)

## 前置条件
在运行项目之前，请确保您的开发环境满足以下要求：

- **Node.js**: 建议使用 v18.x 或 v20.x 版本（LTS）
- **pnpm**: 建议使用 v8.x 或更高版本

您可以通过以下命令检查当前版本：
```bash
node --version
pnpm --version
```

如果尚未安装 pnpm，可通过 npm 全局安装：
```bash
npm install -g pnpm
```

**Section sources**
- [package.json](file://package.json#L0-L35)

## 项目运行命令
项目通过 `package.json` 中的脚本进行管理，以下是常用命令：

### 安装依赖
```bash
pnpm install
```
该命令将根据 `package.json` 和 `pnpm-lock.yaml` 安装所有生产与开发依赖。

### 启动开发服务器
```bash
pnpm dev
```
此命令启动 Vite 开发服务器，默认监听 `http://localhost:5173`。支持热模块替换（HMR），代码修改后浏览器自动刷新。

### 构建生产版本
```bash
pnpm build
```
该命令执行 TypeScript 类型检查并使用 Vite 构建生产环境优化的静态资源，默认输出至 `dist/` 目录。

### 预览构建结果
```bash
pnpm preview
```
在构建完成后，运行此命令可在本地启动一个静态服务器预览 `dist/` 目录中的生产版本。

**Section sources**
- [package.json](file://package.json#L6-L13)
- [vite.config.ts](file://vite.config.ts#L0-L7)

## 项目目录结构
以下是项目的主要目录结构及其作用说明：

```
.
├── src/                    # 源码目录
│   ├── components/         # 可复用组件
│   │   └── advanced-form/  # 高级表单演示组件
│   ├── redux/              # Redux 核心实现
│   ├── App.tsx             # 主应用组件
│   ├── main.tsx            # 应用入口文件
│   └── index.css           # 全局样式
├── public/                 # 静态资源（如有）
├── dist/                   # 构建输出目录（自动生成）
├── package.json            # 项目配置与脚本
├── pnpm-lock.yaml          # 依赖锁定文件
├── tsconfig.json           # TypeScript 配置
├── vite.config.ts          # Vite 构建配置
└── README.md               # 项目说明文档
```

关键文件定位：
- **应用入口**: `src/main.tsx`
- **主组件**: `src/App.tsx`
- **核心逻辑**: `src/components/advanced-form/AdvancedFormDemo.tsx`
- **Redux 实现**: `src/redux/redux.ts`

**Section sources**
- [main.tsx](file://src/main.tsx#L0-L18)
- [App.tsx](file://src/App.tsx#L0-L33)
- [AdvancedFormDemo.tsx](file://src/components/advanced-form/AdvancedFormDemo.tsx#L0-L247)

## 最小工作示例
以下步骤展示如何修改代码并实时查看效果：

1. 打开 `src/App.tsx`
2. 找到 `<AdvancedFormDemo onSubmit={handleAdvancedFormSubmit} />` 组件调用
3. 修改其上方注释或添加新元素，例如：
   ```tsx
   <h1>欢迎使用 Redux Demo</h1>
   ```
4. 保存文件
5. 查看浏览器，页面将自动刷新并显示新标题

您也可以进入 `src/components/advanced-form/AdvancedFormDemo.tsx` 修改表单 Schema，例如更改 `"显示更多"` 字段的默认值为 `true`，保存后即可看到输入框默认展开。

**Section sources**
- [App.tsx](file://src/App.tsx#L0-L33)
- [AdvancedFormDemo.tsx](file://src/components/advanced-form/AdvancedFormDemo.tsx#L0-L247)

## 常见问题与解决方案

### 端口被占用
当运行 `pnpm dev` 时，若提示 `Port 5173 is in use`，可采取以下措施：
- **方案一**：终止占用进程
  ```bash
  lsof -i :5173
  kill -9 <PID>
  ```
- **方案二**：指定其他端口
  修改 `vite.config.ts` 添加端口配置：
  ```ts
  export default defineConfig({
    plugins: [react()],
    server: {
      port: 3000
    }
  })
  ```

### 依赖安装失败
若 `pnpm install` 报错，尝试以下方法：
- 清除缓存并重试：
  ```bash
  pnpm clear cache
  pnpm install
  ```
- 使用国内镜像源：
  ```bash
  pnpm config set registry https://registry.npmmirror.com
  ```

### TypeScript 类型错误
项目使用严格类型检查。若构建时报错，请检查 `tsconfig.app.json` 是否正确配置，并确保所有 `.ts` 和 `.tsx` 文件符合类型规范。

### 样式未生效
确保在组件中正确导入 CSS 文件，如 `AdvancedFormDemo.tsx` 中已导入 `./AdvancedFormDemo.css`。全局样式应导入 `index.css` 或 `App.css`。

**Section sources**
- [vite.config.ts](file://vite.config.ts#L0-L7)
- [App.css](file://src/App.css#L0-L42)
- [AdvancedFormDemo.css](file://src/components/advanced-form/AdvancedFormDemo.css#L0-L77)

## 总结
通过本指南，您已掌握如何在本地运行 `redux-demo` 项目。从环境准备、依赖安装到开发、构建与预览，再到常见问题排查，所有步骤均已涵盖。建议在成功运行后，深入阅读 `src/redux/redux.ts` 了解 Redux 核心原理，或探索 `AdvancedFormDemo` 中的动态表单联动机制。

**Section sources**
- [redux.ts](file://src/redux/redux.ts#L0-L176)
- [README.md](file://README.md#L0-L69)